generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id           Int     @id @default(autoincrement())
  email        String  @unique
  nombre       String
  contrasenia  String
  numeroAvatar Int
  mis_eventos  Event[] @relation("EventosCreados")
  favs         Event[] @relation("EventosFavoritos")
}

model Event {
  id          Int              @id @default(autoincrement())
  titulo      String
  descripcion String
  ubicacion   Ubicacion? //ver como se aplica
  imagenes    ImagenDeEvento[] //ver como se aplica
  fechaInicio DateTime
  fechaFin    DateTime
  creador     User?            @relation("EventosCreados", fields: [userId], references: [id])
  userId      Int?
  fans        User[]           @relation("EventosFavoritos")
}

model ImagenDeEvento {
  id      Int    @id @default(autoincrement())
  url     String // Si es URL o vamos a implementar librer√≠as de procesamiento de imagenes despues lo vemos
  eventId Int
  event   Event  @relation(fields: [eventId], references: [id])
}

model Ubicacion {
  eventId   Int    @id @default(autoincrement())
  latitud   Float
  longitud  Float
  direccion String
  evento    Event  @relation(fields: [eventId], references: [id])
}
